(this["webpackJsonpreact-state"]=this["webpackJsonpreact-state"]||[]).push([[0],{12:function(e,t,n){"use strict";(function(e){var c=n(16),a=n.n(c),s=n(20),r=n(3),i=n(0),o=n(1),l=n(4),j=n(8),u=n(18),d=n(63),b=n(7);t.a=function(t){var n=Object(o.useState)(null),c=Object(r.a)(n,2),O=(c[0],c[1]),f=Object(o.useState)(!0),h=Object(r.a)(f,2),p=h[0],m=h[1],v=Object(o.useState)(0),x=Object(r.a)(v,2),g=x[0],N=x[1],S=Object(o.useState)(!1),y=Object(r.a)(S,2),_=y[0],w=y[1],C=Object(o.useState)(!1),k=Object(r.a)(C,2),E=k[0],P=k[1],T=Object(o.useState)(null),R=Object(r.a)(T,2),F=R[0],D=R[1],U=Object(o.useState)(!1),I=Object(r.a)(U,2),A=I[0],B=I[1],L=Object(o.useState)(!1),H=Object(r.a)(L,2),K=(H[0],H[1]),W=Object(o.useState)(0),J=Object(r.a)(W,2),V=J[0],q=J[1],M=Object(o.useState)(!1),Y=Object(r.a)(M,2),z=Y[0],G=Y[1],Q=Object(l.a)(),X=t.post,Z=t.favoritesComponent;Object(o.useEffect)((function(){Q&&X.creator[0].followers&&X.creator[0].followers.includes(Q.id)?O(!0):O(!1),Q&&X.favoritedBy.includes(Q.id)?w(!0):w(!1),Q&&X.wasRepostedBy.includes(Q.id)?B(!0):B(!1),Q&&X.repostedBy.includes(Q.id)&&G(!0),Q&&X.isRepost&&(D(X.originalCreator),K(!0));var e=X.reposts;q(e);var t=X.favorites;N(t)}),[]);var $=function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.g)(Q.id,X.body,X.hashtags,X._id,X.creator[0].username);case 2:q(V+1),G(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.h)(Q.id,X.parentPost,X._id);case 2:q(V-1),K(!1),m(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te="";X.creator&&X.creator.length>0&&void 0!==X.creator[0].profilePic&&X.creator[0].profilePic.length>0&&(te=e.from(X.creator[0].profilePic[0].img.data.data).toString("base64"));var ne="data:image/jpeg;base64, ".concat(te),ce="/userProfile/"+X.creator[0]._id;return Object(i.jsxs)("div",{className:"card w-100 p-0",children:[E&&Object(i.jsx)(d.a,{post:X}),p&&Object(i.jsxs)("div",{children:[F&&Object(i.jsx)("div",{className:"card-header",children:Object(i.jsxs)("strong",{children:["Re-posted from: ",F]})}),Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsxs)("div",{className:"card-title",children:[Object(i.jsx)(j.b,{to:ce,children:X.creator[0].username}),te&&Object(i.jsx)("img",{id:"imagePlaceholder",src:ne,className:"little-pic"}),""===te&&Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:" profile-img img-thumbnail",className:"little-pic"})]}),Object(i.jsx)("p",{className:"card-text",children:X.body}),Object(i.jsxs)("div",{className:"row ps-4",children:[Q&&Object(i.jsxs)("div",{children:[!_&&Object(i.jsx)(u.a,{label:"Favorite",className:"btn btn-primary",handleClick:function(){Object(b.d)(X._id,Q.id);var e=g;w(!0),N(e+1),Z&&m(!1)}}),_&&Object(i.jsx)(u.a,{label:"Unfavorite",className:"btn btn-primary ",handleClick:function(){Object(b.a)(X._id,Q.id);var e=g;w(!1),N(e-1),Z&&m(!1)}}),A&&Object(i.jsx)(u.a,{label:"Un-repost",className:"btn btn-primary",handleClick:ee}),!A&&!z&&Object(i.jsx)(u.a,{label:"Repost",className:"btn btn-primary",handleClick:$})]}),Q&&X.creator[0]._id===Q.id&&Object(i.jsx)("div",{children:!F&&Object(i.jsxs)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:[Object(i.jsx)(u.a,{className:"btn btn-primary",type:"button",label:"Delete",handleClick:function(){Object(b.b)(X._id),m(!1)}}),Object(i.jsx)(u.a,{className:"btn btn-primary",type:"button",label:"Edit",handleClick:function(){P(!0),m(!1)}})]})})]})]})]}),Object(i.jsx)("div",{children:Object(i.jsx)("div",{className:"container .ps-2",children:p&&Object(i.jsxs)("div",{className:"card-body row  p-0",children:[Object(i.jsxs)("div",{className:"col-sm p-2",children:["Favorites: ",g]}),A&&Object(i.jsxs)("div",{className:"col-sm p-2",children:["Reposts: ",V]}),Object(i.jsx)("div",{className:"col-sm p-2",children:Object(i.jsxs)(j.b,{to:{pathname:"/reply/".concat(X._id),state:X._id},onClick:function(){m(!0)},children:[X.replies.length," Replies"]})})]})})})]})}}).call(this,n(47).Buffer)},17:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return j}));var c=n(6),a=n.n(c);n(23);var s=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL,r=function(e){return a.a.get(s+"/api/user/profile/"+e)},i=function(e,t){return a.a.put(s+"/api/user/follow",{currentUser:e,otherUserId:t})},o=function(e,t){return a.a.put(s+"/api/user/unfollow",{currentUser:e,otherUserId:t})},l=function(){return a.a.get(s+"/api/user/all")},j=function(e,t){console.log("profilePic possibly in axios",t);var n=new FormData;return n.append("profilePic",t,t.name),n.append("userId",e),console.log("formData",n),a.a.post(s+"/api/photo",n)}},18:function(e,t,n){"use strict";var c=n(0);n(1);t.a=function(e){var t=e.label;return"Edit"===t?t=Object(c.jsx)("i",{className:"fas fa-edit"}):"Delete"===t&&(t=Object(c.jsx)("i",{className:"fas fa-trash"})),Object(c.jsx)("button",{className:e.className,onClick:e.handleClick,children:t})}},181:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n(62),r=n.n(s),i=n(8),o=n(5),l=n(3),j=n(4),u=n(7),d=function(e){var t=Object(j.a)(),n=Object(a.useState)(""),s=Object(l.a)(n,2),r=s[0],i=s[1],o=e.parentPost;return Object(c.jsx)("div",{children:t&&Object(c.jsx)("form",{onSubmit:function(e){var n=[];r.split(" ").forEach((function(e){"#"===e.charAt(0)&&n.push(e)})),o?Object(u.f)(t.id,r,n,o):Object(u.e)(t.id,r,n)},children:Object(c.jsxs)("div",{className:"w-60",children:[Object(c.jsx)("textarea",{className:"form-control",value:r,onChange:function(e){var t=e.target.value;i(t)},rows:"3",placeholder:"Write a post..."}),Object(c.jsx)("button",{className:"btn btn-primary",type:"submit",value:"Submit",children:Object(c.jsx)("i",{className:"fas fa-pen"})})]})})})},b=n(16),O=n.n(b),f=n(67),h=n(20),p=n(12),m=n(17),v=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)([]),o=Object(l.a)(r,2),j=o[0],d=o[1],b=Object(a.useState)([]),v=Object(l.a)(b,2),x=v[0],g=v[1],N=Object(a.useState)(!1),S=Object(l.a)(N,2),y=S[0],_=S[1];Object(a.useEffect)((function(){}),[x]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("form",{className:"d-inline",onSubmit:function(e){g([]),_(!0),e.preventDefault(),Object(m.a)().then(function(){var e=Object(h.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data.forEach((function(e){e.username.toUpperCase()!==n.toUpperCase()||y||(d([e].concat(Object(f.a)(j))),console.log(j))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})),Object(u.i)().then((function(e){var t=e.data,c=x;t.forEach((function(e){if(e.body){for(var t=e.body.split(" "),a=0;a<t.length;a++)n.toUpperCase()!==t[a].toUpperCase()||y||c.push(e);g(c)}}))})).catch((function(e){console.log(e)}))},children:Object(c.jsxs)("div",{className:"d-flex w-50",children:[Object(c.jsx)("input",{type:"text",className:"form-control",value:n,onChange:function(e){var t=e.target.value;s(t),d([]),g([]),_(!1)},placeholder:"Search Chirper"}),Object(c.jsx)("button",{className:"btn btn-primary",type:"submit",children:Object(c.jsx)("i",{className:"fas fa-search"})})]})}),Object(c.jsx)("ul",{children:j.map((function(e){var t="/userProfile/"+e._id;return Object(c.jsx)(i.b,{to:t,children:e.username})}))}),x.map((function(e){return console.log(e),Object(c.jsx)(p.a,{post:e},e.id)}))]})},x=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(0),o=Object(l.a)(i,2),j=o[0],b=o[1];Object(a.useEffect)((function(){Object(u.i)().then((function(e){r(e.data)})).catch((function(e){console.log(e)}))}),[]);var O=function(){b(j+1)},f=s.reverse().map((function(e,t){if(!1===e.isReply)return Object(c.jsx)(p.a,{post:e,rerenderHome:O},e.id)}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{className:"center-top",children:"Home Page"}),Object(c.jsx)(d,{}),Object(c.jsx)(v,{}),f]})},g=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),s=n[0],r=n[1],o=Object(a.useState)(void 0),u=Object(l.a)(o,2),d=u[0],b=u[1];Object(a.useEffect)((function(){var e=Object(j.a)();e&&(b(e),r(e.roles.includes("ROLE_ADMIN")))}),[]);var O=null;return d&&(O="/userProfile/"+d.id),Object(c.jsxs)("div",{children:[Object(c.jsxs)("nav",{className:"navbar navbar-expand sticky-top navbar-dark bg-primary",children:[Object(c.jsx)(i.b,{to:"/",className:"navbar-brand",children:Object(c.jsx)("strong",{children:"Chirper"})}),Object(c.jsxs)("div",{className:"navbar-nav nav-tabs mr-auto",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(i.b,{to:"/home",className:"nav-link",children:"Home"})}),s&&Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(i.b,{to:"/admin",className:"nav-link active","aria-current":"page",children:"Admin Board"})}),d&&Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(i.b,{to:"/following",className:"nav-link",children:"Following"})}),d&&Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(i.b,{to:"/favorites",className:"nav-link",children:"Favorites"})}),d&&Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsxs)(i.b,{to:O,className:"nav-link",children:[d.username,"'s Profile"]})})]}),d?Object(c.jsx)("div",{className:"navbar-nav ml-auto",children:Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)("a",{href:"/login",className:"nav-link",onClick:function(){Object(j.c)()},children:"Logout"})})}):Object(c.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(i.b,{to:"/login",className:"nav-link",children:"Login"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(i.b,{to:"/register",className:"nav-link",children:"Sign Up"})})]})]}),Object(c.jsx)("div",{className:"container mt-3",children:e.children})]})},N=n(29),S=n.n(N),y=n(22),_=n.n(y),w=n(30),C=n.n(w),k=function(e){var t=e.children,n=e.text;return Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:n,children:n.slice(0,1).toUpperCase()+n.slice(1,n.length)}),t]})},E=function(e){var t=e.loading,n=e.text;return Object(c.jsx)("div",{className:"form-group",children:Object(c.jsxs)("button",{className:"btn btn-primary btn-block",disabled:t,children:[t&&Object(c.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(c.jsx)("span",{children:n})]})})},P=function(e){return e.response&&e.response.data&&e.response.data.message||e.message||e.toString},T=function(e){if(!e)return Object(c.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},R=function(e){var t=Object(a.useRef)(),n=Object(a.useRef)(),s=Object(a.useState)(""),r=Object(l.a)(s,2),i=r[0],o=r[1],u=Object(a.useState)(""),d=Object(l.a)(u,2),b=d[0],O=d[1],f=Object(a.useState)(!1),h=Object(l.a)(f,2),p=h[0],m=h[1],v=Object(a.useState)(""),x=Object(l.a)(v,2),g=x[0],N=x[1];return Object(c.jsx)("div",{className:"col-md-12",children:Object(c.jsx)("div",{className:"card card-container",children:Object(c.jsxs)(S.a,{onSubmit:function(c){c.preventDefault(),N(""),m(!0),t.current.validateAll(),0===n.current.context._errors.length?Object(j.b)(i,b).then((function(){e.history.push("/home"),window.location.reload()}),(function(e){m(!1),N(P(e))})):m(!1)},ref:t,children:[Object(c.jsx)(k,{text:"username",children:Object(c.jsx)(_.a,{type:"text",className:"form-control",name:"username",value:i,onChange:function(e){var t=e.target.value;o(t)},validations:[T]})}),Object(c.jsx)(k,{text:"password",children:Object(c.jsx)(_.a,{type:"password",className:"form-control",name:"password",value:b,onChange:function(e){var t=e.target.value;O(t)},validations:[T]})}),Object(c.jsx)(E,{text:"Login",login:p}),g&&Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("div",{className:"alert alert-danger",role:"alert",children:g})}),Object(c.jsx)(C.a,{style:{display:"none"},ref:n})]})})})},F=n(65),D=function(e){if(!e)return Object(c.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},U=function(e){if(e.length<=3||e.length>=20)return Object(c.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The username must be between 3 and 20 characters."})},I=function(e){if(e.length<6||e.length>=40)return Object(c.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The password must be between 6 and 40 characters."})},A=function(e){if(!Object(F.isEmail)(e))return Object(c.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This is not a valid email."})},B=function(e){var t=Object(a.useRef)(),n=Object(a.useRef)(),s=Object(a.useState)(""),r=Object(l.a)(s,2),i=r[0],o=r[1],u=Object(a.useState)(""),d=Object(l.a)(u,2),b=d[0],O=d[1],f=Object(a.useState)(""),h=Object(l.a)(f,2),p=h[0],m=h[1],v=Object(a.useState)(!1),x=Object(l.a)(v,2),g=x[0],N=x[1],y=Object(a.useState)(""),w=Object(l.a)(y,2),T=w[0],R=w[1];return Object(c.jsx)("div",{className:"col-md-12",children:Object(c.jsx)("div",{className:"card card-container",children:Object(c.jsxs)(S.a,{onSubmit:function(c){c.preventDefault(),R(""),N(!1),t.current.validateAll(),0===n.current.context._errors.length&&Object(j.d)(i,p,b).then((function(t){R(t.data.message),N(!0),Object(j.b)(i,b).then((function(){e.history.push("/home"),window.location.reload()}))}),(function(e){R(P(e)),N(!1)}))},ref:t,children:[Object(c.jsx)(k,{text:"username",children:Object(c.jsx)(_.a,{type:"text",className:"form-control",name:"username",value:i,onChange:function(e){var t=e.target.value;o(t)},validations:[D,U]})}),Object(c.jsx)(k,{text:"email",children:Object(c.jsx)(_.a,{type:"text",className:"form-control",name:"email",value:p,onChange:function(e){var t=e.target.value;m(t)},validations:[D,A]})}),Object(c.jsx)(k,{text:"password",children:Object(c.jsx)(_.a,{type:"password",className:"form-control",name:"password",value:b,onChange:function(e){var t=e.target.value;O(t)},validations:[D,I]})}),Object(c.jsx)(E,{text:"Sign Up"}),T&&Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("div",{className:g?"alert alert-success":"alert alert-danger",role:"alert",children:T})}),Object(c.jsx)(C.a,{style:{display:"none"},ref:n})]})})})},L=function(){var e=Object(j.a)();return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("header",{className:"jumbotron",children:Object(c.jsx)("h3",{children:Object(c.jsx)("strong",{children:e.username})})}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Token:"}),e.accessToken.substring(0,20),"..."," "]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Id: "}),e.id]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Email: "}),e.email]}),e.roles&&e.roles.map((function(e,t){return Object(c.jsx)("li",{children:e},t)}))]})},H=n(66),K=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(!0),i=Object(l.a)(r,2),o=(i[0],i[1]),d=Object(j.a)().id;Object(a.useEffect)((function(){b(),o(!1)}),[]);var b=function(){Object(u.j)(d).then((function(e){var t=e.data.favoritePosts;return s(t),t}))},O=n.reverse().map((function(e,t){return Object(c.jsx)(p.a,{post:e,favoritesComponent:!0},e.id)}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{className:"center-top",children:"Favorites"}),Object(c.jsx)("div",{children:O})]})},W=function(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)([]),i=Object(l.a)(r,2),o=i[0],d=i[1],b=Object(a.useState)(!0),O=Object(l.a)(b,2),f=(O[0],O[1]),h=Object(j.a)().id;Object(a.useEffect)((function(){m(),f(!1)}),[]);var m=function(){Object(u.k)(h).then((function(e){var t=e.data.followed;d(t);var n=0;return t.map((function(e,t){n+=e.posts.length})),s(n),t}))},v=o.reverse().map((function(e,t){return e.posts.map((function(e,t){return Object(c.jsx)(p.a,{post:e},e.id)}))}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{className:"center-top",children:"Following Feed"}),Object(c.jsxs)("small",{className:"center-top text-muted",children:[" ",n," posts from users you follow "]})]}),Object(c.jsx)("div",{children:v})]})},J=function(){var e=Object(o.f)().idx,t=Object(a.useState)(""),n=Object(l.a)(t,2),s=(n[0],n[1]),r=Object(a.useState)([]),i=Object(l.a)(r,2),b=i[0],O=i[1],f=Object(a.useState)([]),h=Object(l.a)(f,2),m=h[0],v=h[1];Object(j.a)("");return Object(a.useEffect)((function(){Object(u.l)(e).then((function(e){console.log("reply response",e);var t=e.data[0].replies.reverse().map((function(e,t){return console.log("reply",e),Object(c.jsx)(p.a,{post:e},e._id)}));v(t)})),Object(u.l)(e).then((function(e){var t=e.data.map((function(e){var t=Object(j.a)(e.creator);return s(t),Object(c.jsx)(p.a,{post:e},e._id)}));O(t)}))}),[]),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{className:"center-top",children:"Main Post"}),b]}),Object(c.jsx)(d,{parentPost:e}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{className:"center-top",children:"Replies"}),m]})]})},V=(n(181),function(){return Object(c.jsx)(g,{children:Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{exact:!0,path:["/","/home"],component:x}),Object(c.jsx)(o.a,{exact:!0,path:"/login",component:R}),Object(c.jsx)(o.a,{exact:!0,path:"/register",component:B}),Object(c.jsx)(o.a,{exact:!0,path:"/profile",component:L}),Object(c.jsx)(o.a,{exact:!0,path:"/userProfile/:id",component:H.a}),Object(c.jsx)(o.a,{exact:!0,path:"/favorites",component:K}),Object(c.jsx)(o.a,{exact:!0,path:"/following",component:W}),Object(c.jsx)(o.a,{exact:!0,path:"/reply/:idx",component:J})]})})});n(182),n(183);r.a.render(Object(c.jsx)(i.a,{children:Object(c.jsx)(V,{})}),document.getElementById("root"))},23:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var c=function(e){return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):null},a=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},s=function(e){return localStorage.removeItem(e)}},4:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return j}));var c=n(6),a=n.n(c),s=n(23),r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL,i=function(e,t,n){return a.a.post(r+"/api/auth/signup",{username:e,email:t,password:n})},o=function(e,t){return a.a.post(r+"/api/auth/signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&Object(s.c)("user",e.data),e.data}))},l=function(){Object(s.b)("user")},j=function(){return Object(s.a)("user")}},63:function(e,t,n){"use strict";var c=n(3),a=n(0),s=n(1),r=n(4),i=n(7);t.a=function(e){var t=Object(r.a)(),n=Object(s.useState)(""),o=Object(c.a)(n,2),l=o[0],j=o[1];Object(s.useEffect)((function(){j(e.post.body)}),[]);return Object(a.jsx)("div",{children:t&&Object(a.jsxs)("form",{onSubmit:function(t){Object(i.c)(e.post._id,l)},children:[Object(a.jsxs)("label",{children:["Edit:",Object(a.jsx)("input",{type:"text",value:l,onChange:function(t){console.log(e.post._id,l),j(t.target.value)}})]}),Object(a.jsx)("input",{type:"submit",value:"Submit"})]})})}},66:function(e,t,n){"use strict";(function(e){var c=n(16),a=n.n(c),s=n(20),r=n(3),i=n(0),o=n(1),l=n(8),j=n(18),u=n(17),d=n(4),b=n(12),O=n(5);t.a=function(t){var n=Object(d.a)(""),c=Object(o.useState)([]),f=Object(r.a)(c,2),h=f[0],p=f[1],m=Object(o.useState)(!1),v=Object(r.a)(m,2),x=v[0],g=v[1],N=Object(o.useState)(!1),S=Object(r.a)(N,2),y=S[0],_=S[1],w=Object(O.f)().id;Object(o.useEffect)((function(){Object(u.c)(w).then((function(t){var c=t.data;c._id===n.id&&_(!0);var a="";void 0!==t.data.profilePic&&t.data.profilePic.length>0&&(a=e.from(t.data.profilePic[0].img.data.data).toString("base64"));var s="data:image/jpeg;base64, ".concat(a);return Object(i.jsxs)("div",{className:"container",children:[Object(i.jsxs)("div",{className:"card",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{className:"center-top nav-link",children:Object(i.jsx)("strong",{children:"User Information"})}),Object(i.jsx)("h3",{children:Object(i.jsx)("strong",{className:"nav-link",children:c.username})})]}),Object(i.jsxs)("div",{children:[a&&Object(i.jsx)("img",{id:"imagePlaceholder",src:s,className:"user-profile float-left"}),""===a&&Object(i.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"nav-link"}),!0===y&&Object(i.jsx)("input",{type:"file",accept:"image/*",onChange:P,multiple:!1})]}),Object(i.jsx)("div",{children:Object(i.jsx)(l.b,{to:"/favorites",className:"nav-link",children:"Favorite Posts"})}),Object(i.jsx)("div",{children:Object(i.jsx)(l.b,{to:"/following",className:"nav-link",children:"Following Feed"})}),Object(i.jsxs)("div",{className:"nav-link",children:[!x&&Object(i.jsx)(j.a,{label:"Follow",handleClick:C,className:"btn btn-primary mt-4"}),x&&Object(i.jsx)(j.a,{label:"Unfollow",handleClick:k,className:"btn btn-danger mt-4"})]})]}),Object(i.jsxs)("div",{className:"card",children:[Object(i.jsx)("h4",{className:"nav-link",children:Object(i.jsx)("strong",{children:"Currently Following"})}),c.followed.map((function(e,t){return null===e?Object(i.jsx)("div",{className:"nav-link",children:"You are not following anyone yet."}):Object(i.jsx)("ul",{className:"list-unstyled",children:Object(i.jsx)("li",{className:"nav-link",children:e.username},e._id)})}))]}),Object(i.jsxs)("div",{className:"card",children:[Object(i.jsx)("h4",{className:"nav-link",children:Object(i.jsx)("strong",{children:"Current Followers"})}),c.followers.map((function(e,t){return 0===e.length?Object(i.jsx)("div",{className:"nav-link",children:"You have no followers yet."}):Object(i.jsx)("div",{children:Object(i.jsx)("ul",{className:"list-unstyled",children:Object(i.jsx)("li",{className:"nav-link",children:e.username},e._id)})})}))]}),Object(i.jsxs)("div",{className:"card",children:[Object(i.jsx)("h4",{className:"nav-link",children:Object(i.jsx)("strong",{children:"Posts"})}),c.posts.map((function(e,t){return Object(i.jsx)(b.a,{post:e},e.id)}))]})]})})).then((function(e){p(e)})),E()}),[x]);var C=function(){Object(u.b)(n.id,w),g(!0)},k=function(){Object(u.d)(n.id,w),g(!1)},E=function(){var e=Object(s.a)(a.a.mark((function e(){var t,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.c)(w);case 2:return e.next=4,e.sent.data.followers;case 4:for(t=e.sent,c=0;c<t.length;c++)t[c].followers.includes(n.id)&&g(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(e){e.target.files,new FormData;Object(u.e)(w,e.target.files[0]),console.log("files for pic?",e.target.files[0])};return null===x?null:Object(i.jsx)("div",{children:Object(i.jsx)("div",{children:h})})}}).call(this,n(47).Buffer)},7:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return j})),n.d(t,"f",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return b})),n.d(t,"i",(function(){return O})),n.d(t,"l",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return p}));var c=n(6),a=n.n(c),s=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL,r=function(e,t,n){return a.a.post(s+"/api/posts/post",{creator:e,body:t,hashtags:n})},i=function(e,t){return a.a.put(s+"/api/posts/post",{id:e,body:t})},o=function(e){return console.log("this should be the id for axios",e),a.a.delete(s+"/api/posts/post",{data:{_id:e}})},l=function(e,t,n,c,r){return a.a.post(s+"/api/posts/retweet",{creator:e,body:t,hashtags:n,parentPost:c,originalCreator:r})},j=function(e,t,n){return console.log("userId:",e,"parentId:",t,"repostId:",n),a.a.put(s+"/api/posts/unretweet",{userId:e,parentId:t,repostId:n})},u=function(e,t,n,c){return a.a.post(s+"/api/posts/reply",{creator:e,body:t,hashtags:n,parentPost:c})},d=function(e){return a.a.get(s+"/api/posts/feed/favorites/"+e)},b=function(e){return a.a.get(s+"/api/posts/feed/"+e)},O=function(){return a.a.get(s+"/api/posts/feed")},f=function(e){return a.a.get(s+"/api/posts/"+e)},h=function(e,t){return a.a.put(s+"/api/posts/favorite",{id:e,userId:t})},p=function(e,t){return a.a.put(s+"/api/posts/decreaseFave",{id:e,userId:t})}}},[[184,1,2]]]);
//# sourceMappingURL=main.26c1e371.chunk.js.map